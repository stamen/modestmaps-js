<!DOCTYPE html>
<html>
<head>
  <title>display: none; example</title>
  <script type='text/javascript' src='../../modestmaps.js'></script>
  <script type='text/javascript'>
    window.onload = function() {
      // "import" namespace
      var MM = com.modestmaps;
      
      // grab elements once for convenience
      var parent = document.getElementById('map_div'),
          toggle = document.getElementById('toggle');

      // defaults to Google-style Mercator projection, so works
      // out of the box with OpenStreetMap and friends:
      var template = 'http://tile.openstreetmap.org/{Z}/{X}/{Y}.png';
      var provider = new MM.TemplatedMapProvider(template);

      // without a size, it will expand to fit the parent:
      map = new MM.Map(parent, provider);
      map.setZoom(4);
      
      MM.addEvent(toggle, 'click', function(e) {
        if (MM.getStyle(parent, 'display') == 'none') {
          parent.style.display = 'block';
          map.draw();
        } else {
          parent.style.display = 'none';
        }
        return MM.cancelEvent(e);
      });
    };
  </script>
  <style type='text/css'>
    #map_div {
      position:absolute;
      left:0;
      right:0;
      top:0;
      bottom:0;
      display:none;
    }

    #toggle {
      color:#fff;
      font-size: 20px;
      padding: 5px;
      background:#111;
      position:absolute;
      top:0;
      z-index:40;
    }
  </style>
</head>
<body>
  <div id='map_div'></div>
  <a href='#' id='toggle'>toggle map visibility</a>
</body>
</html>